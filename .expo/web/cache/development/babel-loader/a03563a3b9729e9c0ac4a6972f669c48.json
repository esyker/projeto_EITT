{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\diogo\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\react-native\\\\SuperMarket\\\\components\\\\camera.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { BarCodeScanner, Permissions } from 'expo';\n\nvar BarcodeScannerExample = function (_React$Component) {\n  _inherits(BarcodeScannerExample, _React$Component);\n\n  var _super = _createSuper(BarcodeScannerExample);\n\n  function BarcodeScannerExample() {\n    var _this;\n\n    _classCallCheck(this, BarcodeScannerExample);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      hasCameraPermission: null,\n      barcodeType: '',\n      barcodeData: ''\n    };\n\n    _this.handleBarCodeScanned = function (_ref) {\n      var type = _ref.type,\n          data = _ref.data;\n      alert(\"Bar code with type \" + type + \" and data \" + data + \" has been scanned!\");\n      var barcodeType = type;\n      var barcodeData = data;\n\n      _this.setState({\n        barcodeType: barcodeType,\n        barcodeData: barcodeData\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BarcodeScannerExample, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function componentWillMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n            case 2:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n              this.setState({\n                hasCameraPermission: status === 'granted'\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var hasCameraPermission = this.state.hasCameraPermission;\n\n      if (hasCameraPermission === null) {\n        return React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 14\n          }\n        }, \"Requesting for camera permission\");\n      }\n\n      if (hasCameraPermission === false) {\n        return React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 14\n          }\n        }, \"No access to camera\");\n      }\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 7\n        }\n      }, React.createElement(BarCodeScanner, {\n        onBarCodeScanned: this.handleBarCodeScanned,\n        style: StyleSheet.absoluteFill,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return BarcodeScannerExample;\n}(React.Component);\n\nexport { BarcodeScannerExample as default };","map":{"version":3,"sources":["C:/Users/diogo/OneDrive/Área de Trabalho/react-native/SuperMarket/components/camera.js"],"names":["React","BarCodeScanner","Permissions","BarcodeScannerExample","state","hasCameraPermission","barcodeType","barcodeData","handleBarCodeScanned","type","data","alert","setState","askAsync","CAMERA","status","flex","StyleSheet","absoluteFill","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,MAA5C;;IAEqBC,qB;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,mBAAmB,EAAE,IADf;AAENC,MAAAA,WAAW,EAAE,EAFP;AAGNC,MAAAA,WAAW,EAAE;AAHP,K;;UA8BRC,oB,GAAuB,gBAAoB;AAAA,UAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,UAAXC,IAAW,QAAXA,IAAW;AACzCC,MAAAA,KAAK,yBAAuBF,IAAvB,kBAAwCC,IAAxC,wBAAL;AACA,UAAIJ,WAAW,GAAGG,IAAlB;AACA,UAAIF,WAAW,GAAGG,IAAlB;;AACA,YAAKE,QAAL,CAAc;AACZN,QAAAA,WAAW,EAAEA,WADD;AAEZC,QAAAA,WAAW,EAAEA;AAFD,OAAd;AAID,K;;;;;;;;;;;;;;;+CA/B0BL,WAAW,CAACW,QAAZ,CAAqBX,WAAW,CAACY,MAAjC,C;;;;AAAjBC,cAAAA,M,yBAAAA,M;AACR,mBAAKH,QAAL,CAAc;AAACP,gBAAAA,mBAAmB,EAAEU,MAAM,KAAK;AAAjC,eAAd;;;;;;;;;;;6BAGO;AAAA,UACCV,mBADD,GACyB,KAAKD,KAD9B,CACCC,mBADD;;AAGP,UAAIA,mBAAmB,KAAK,IAA5B,EAAkC;AAChC,eAAO,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAAP;AACD;;AACD,UAAIA,mBAAmB,KAAK,KAA5B,EAAmC;AACjC,eAAO,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAP;AACD;;AACD,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEW,UAAAA,IAAI,EAAE;AAAR,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACE,QAAA,gBAAgB,EAAE,KAAKR,oBADzB;AAEE,QAAA,KAAK,EAAES,UAAU,CAACC,YAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAQD;;;;EA7BgDlB,KAAK,CAACmB,S;;SAApChB,qB","sourcesContent":["import React from 'react';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\nimport { BarCodeScanner, Permissions } from 'expo';\r\n\r\nexport default class BarcodeScannerExample extends React.Component {\r\n  state = {\r\n    hasCameraPermission: null,\r\n    barcodeType: '',\r\n    barcodeData: '',\r\n  }\r\n\r\n  async componentWillMount() {\r\n    const { status } = await Permissions.askAsync(Permissions.CAMERA);\r\n    this.setState({hasCameraPermission: status === 'granted'});\r\n    }\r\n\r\n  render() {\r\n    const { hasCameraPermission } = this.state;\r\n\r\n    if (hasCameraPermission === null) {\r\n      return <Text>Requesting for camera permission</Text>;\r\n    }\r\n    if (hasCameraPermission === false) {\r\n      return <Text>No access to camera</Text>;\r\n    }\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={this.handleBarCodeScanned}\r\n          style={StyleSheet.absoluteFill}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  handleBarCodeScanned = ({ type, data }) => {\r\n    alert(`Bar code with type ${type} and data ${data} has been scanned!`);\r\n    let barcodeType = type;\r\n    let barcodeData = data;\r\n    this.setState({\r\n      barcodeType: barcodeType,\r\n      barcodeData: barcodeData,\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}